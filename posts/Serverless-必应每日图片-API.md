---
title: Serverless 必应每日图片 API
date: 2020-03-08 14:23:50
categories: Cloud
tags:
  - Serverless
abbrlink: 2003080
cover: https://us.api.bugzeng.com/bingimg
---

前两天做了个获取必应每日图片的 API 部署到自己服务器上，虽然整个过程并不太麻烦，但还是觉得那么简单的一个东西还从开发到部署自己还要维护，非常麻烦。

想想看它的功能也非常简单，先请求到图片的地址，再请求图片，就这么简单，假设排除掉我还自己每天把图片保存到服务器上这种奇怪需求，其实做成 Serverless 服务会方便很多。

![放个每日的图片玩玩，每天都会变的噢](https://api.bugzeng.com/bingimg)

恰好阿里云有提供函数计算服务。而且可以按量付费，每月都有几万次的免费调用次数。这已经远远足够了吧。

于是我去阿里云开通了函数计算服务，创建了一个函数，为了简单，直接选择 Python 环境，短短几行代码。功能就和之前自己开发的 API 功能一样了。

![新加两行代码，直接完成](/blog/pics/20200308001.png)

再配置个自定义域名，一个不需要自己维护的 Serverless API 就完成了。前面那张图片就是通过这个 API 获取的图片。如果想要自己体验，可以访问 [api.bugzeng.com/bingimg](https://api.bugzeng.com/bingimg)

不得不说 Serverless 真的太方便啦。

（不过刚开始不知道为啥，新手引导的时候我的地区在美国硅谷，导致做出来的 API 获取图片非常慢，挂了梯子之后速度才显著提升。而且获取到的图片不一样，我还一直不知道为啥。后来发现获取的图片就是必应点国际版的背景图片，才猜测是地区问题，把地区改到国内之后就很棒了，访问非常快，获取的图片也是国内版的背景图片。不过这也并不是坏事，之前都没想到分国内和国际版，现在两个 API 都有了。国际版 [us.api.bugzeng.com](http://us.api.bugzeng.com/bingimg)

